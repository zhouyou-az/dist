import{d as e,u as o,a,r as s,b as l,c as r,s as n,e as t,o as m,f as i,g as u,w as d,h as p,i as g}from"./index.20cbabfe.js";import{h as c}from"./http.248f93ba.js";import"./vendor.196df497.js";var f=e({name:"LoginComponent",components:{},props:{},emits:[],setup(e,t){const m=o();a();const i=s();return{loginForm:l({username:"",password:""}),loginFormValidation:{username:[{required:!0,message:"请输入账号",trigger:"blur"}],password:[{required:!0,message:"请填写密码",trigger:"blur"}]},login:e=>{i.value.validate((o=>{o&&(r(),c.post("/sys/login",e).then((e=>{e.success&&(n(e.data.token),m.push("/basic/menu"))})))}))},loginFormRef:i}},computed:{},watch:{},methods:{}});const F={class:"login"},b=g("登录");f.render=function(e,o,a,s,l,r){const n=t("el-input"),g=t("el-form-item"),c=t("el-button"),f=t("el-form");return m(),i("div",F,[u(f,{model:e.loginForm,rules:e.loginFormValidation,ref:"loginFormRef",class:"login-form",onSubmit:o[4]||(o[4]=p((()=>{}),["prevent"]))},{default:d((()=>[u(g,{prop:"username"},{default:d((()=>[u(n,{modelValue:e.loginForm.username,"onUpdate:modelValue":o[1]||(o[1]=o=>e.loginForm.username=o),"auto-complete":"on",placeholder:"账号"},null,8,["modelValue"])])),_:1}),u(g,{prop:"password"},{default:d((()=>[u(n,{modelValue:e.loginForm.password,"onUpdate:modelValue":o[2]||(o[2]=o=>e.loginForm.password=o),"auto-complete":"on",placeholder:"密码",type:"password"},null,8,["modelValue"])])),_:1}),u(g,{align:"right"},{default:d((()=>[u(c,{onClick:o[3]||(o[3]=o=>e.login(e.loginForm)),"native-type":"submit"},{default:d((()=>[b])),_:1})])),_:1})])),_:1},8,["model","rules"])])};export default f;
