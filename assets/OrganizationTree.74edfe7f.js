import{O as e}from"./DialogComponent.234733d9.js";import{d as t,r as d,n as a,e as r,o,f as s,k as c}from"./index.20cbabfe.js";var i=t({name:"OrganizationTree",components:{},props:{selectedKey:{type:Number,default:0},extendRoot:{type:Boolean,default:!0}},emits:[],setup:e=>({treeRef:d()}),data:()=>({defaultProps:{children:"children",label:"name"},tree:[]}),computed:{},methods:{checkboxClick(e,{checkedKeys:t}){this.singleChecked(e)},nodeClick(e,t,d){this.treeRef.setChecked(e.id,!t.checked,!1),this.singleChecked(e)},singleChecked(e){this.treeRef.getCheckedKeys().forEach((t=>{e.id!=t&&this.treeRef.setChecked(t,!1,!1)}))},loadOrganizationTree(){e.queryTree().then((e=>{if(this.extendRoot){const t=[{name:"主目录",children:[],id:0}];t[0].children=e.data,this.tree=t}else this.tree=e.data;a((()=>{this.treeRef.setChecked(this.selectedKey,!0,!1)}))}))},getTree(){return this.treeRef}},created(){this.loadOrganizationTree()}});const n=c("data-v-d3cdbab0")(((e,t,d,a,c,i)=>{const n=r("el-tree");return o(),s(n,{data:e.tree,"show-checkbox":"","node-key":"id",ref:"treeRef","highlight-current":"",props:e.defaultProps,"check-strictly":!0,onCheck:e.checkboxClick,onNodeClick:e.nodeClick,"expand-on-click-node":!1,"default-expand-all":!1},null,8,["data","props","onCheck","onNodeClick"])}));i.render=n,i.__scopeId="data-v-d3cdbab0";export{i as _};
